<div class="main p-l-20 p-r-20">
    <form [formGroup]="candidateForm" (ngSubmit)="submitClick(); $event.preventDefault()" enctype="multipart/form-data">
        <span class="heading  m-t-12">Add Candidates</span>
        <div class="d-flex j-space parent p-t-10">
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">First Name<span class="required">*</span></span>
                <input type="text" class="input-box" formControlName="candidateFirstName" placeholder="John">
                <div
                    *ngIf="candidateForm.get('candidateFirstName')?.hasError('required') && candidateForm.get('candidateFirstName')?.touched">
                    <mat-error>First Name Required</mat-error>
                </div>
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Last Name<span class="required">*</span></span>
                <input type="text" class="input-box" formControlName="candidateLastName" placeholder="Deo">
                <div
                    *ngIf="candidateForm.get('candidateLastName')?.hasError('required') && candidateForm.get('candidateLastName')?.touched">
                    <mat-error>Last Name Required</mat-error>
                </div>
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">DOB</span>
                <div class="p-relative ">
                    <input class="p-l-5  input-box" placeholder="MM/DD/YY" matInput [matDatepicker]="pickerdate"
                        (dateChange)="dateChange($event)" (click)="pickerdate?.open()" [value]="displayDate"
                        formControlName="candidateDoB">
                    <span> <mat-datepicker #pickerdate class=""></mat-datepicker>
                        <i class="fa fa-calendar-o c-pointer p-absolute calendar-icon" aria-hidden="true"
                            (click)="pickerdate ?.open()"></i>
                    </span>
                </div>
            </div>
        </div>
        <div class="d-flex j-space parent">
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Gender<span class="required">*</span></span>
                <span class="d-flex gender c-pointer">
                    <input type="radio" id="Male" name="candidateGender" value="Male" formControlName="candidateGender">
                    <label for="Male">Male</label>
                    <input type="radio" id="Female" name="candidateGender" value="Female" formControlName="candidateGender">
                    <label for="Female">Female</label>
                    <input type="radio" id="Others" name="candidateGender" value="Others" formControlName="candidateGender">
                    <label for="Others">Others</label>
                </span>
                <div *ngIf="candidateForm.get('candidateGender')?.hasError('required') && candidateForm.get('candidateGender')?.touched">
                    <mat-error>Gender Required</mat-error>
                </div>
            </div>            
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Experience</span>
                <input type="text" class="input-box" formControlName="candidateExperience">
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Previous Organization</span>
                <input type="text" class="input-box" formControlName="candidatePreviousOrg">
            </div>
        </div>
        <div class="d-flex j-space parent">
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Created By</span>
                <input type="text" class="input-box" formControlName="candidateCreatedby">
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Previous Designation</span>
                <input type="text" class="input-box" formControlName="candidatePreviousDesignation">
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Education</span>
                <input type="text" class="input-box" formControlName="candidateEducation">
            </div>
        </div>
        <div class="d-flex j-space parent-address">
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Current Salary</span>
                <input type="text" class="input-box" formControlName="candidateCurrentSalary">
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Expected Salary</span>
                <input type="text" class="input-box" formControlName="candidateExpectedSalary">
            </div>
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Email<span class="required">*</span></span>
                <input type="text" class="input-box" formControlName="candidateEmail">
                <div
                    *ngIf="candidateForm.get('candidateEmail')?.hasError('required') && candidateForm.get('candidateEmail')?.touched">
                    <mat-error>Email ID Required</mat-error>
                </div>
            </div>
        </div>
        <div class="d-flex j-space parent">
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Mobile<span class="required">*</span></span>
                <input type="text" class="input-box" formControlName="candidateMobileNo">
                <div
                    *ngIf="candidateForm.get('candidateMobileNo')?.hasError('required') && candidateForm.get('candidateMobileNo')?.touched">
                    <mat-error>Mobile No Required</mat-error>
                </div>
            </div>
            <div class="child d-flex m-b-10 m-l-10">
                <span class="label m-b-4">Address</span>
                <input type="text" class="text-area" formControlName="candidateAddress">
            </div>
        </div>
        <div class="d-flex j-space parent">
            <div class="child d-flex m-b-10">
                <span class="label m-b-4">Position</span>
                <div class="input-box  p-relative p-t-10 p-l-6" (click)="showSource = !showSource;fetchSource()">
                    <span *ngIf="!sourceName">Select source</span>
                    <span *ngIf="sourceName">{{sourceName}}</span>
                    <span><i class="f-right p-r-10 fa fa-chevron-down s-text"></i></span>
                </div>
                <div class="no-close dropdown-list c-pointer m-t-6 p-t-10 p-l-6" *ngIf="showSource">
                    <p *ngFor="let source of sourceList" (click)="selectsource(sourceId,source.sourceName)">
                        {{source.sourceName}}</p>
                </div>
            </div>
            <div class="skills p-t-13">
                <span class="text m-b-4">Skill Sets</span>
                <div class="d-flex skill-drop-down">
                    <div class="skill-type" (click)="showDropdown = !showDropdown">
                    <span>{{selectedSkillType || 'Skill Type'}}</span>
                        <span><i class="f-right p-r-10 fa fa-chevron-down"></i></span>
                        <div class="dropdown-list c-pointer" *ngIf="showDropdown">
                            <p *ngFor="let type of skillTypes" (click)="selectSkillType(type)">{{type}}</p>
                        </div>
                    </div>
                    <button class="add-btn" (click)="$event.preventDefault();toggleSearchBar()">Add</button>
                </div>
                <div class="searchbar m-t-10" *ngIf="showSearchBar">
                    <input type="search" class="input-search" placeholder="Type to search skills..."
                        (input)="getSkillSuggestions($event)" *ngIf="showSearchBar">
                </div>
                <div *ngIf="showSearchBar" class="m-l-23 m-t-8">
                    <div *ngFor="let suggestion of skillSuggestions" (click)="selectSkill(suggestion)">
                        <span class="p-t-7"><img src="assets/images/akar-icons_check.png" alt="" class="m-t-0 p-r-4"
                                width="13px" height="10px"></span>
                        <span class="c-pointer">{{suggestion.skillName}}</span>
                    </div>
                </div>
            </div>
            <div class="child d-flex m-b-10 p-relative">
                <span class="label m-b-4">Upload Resume <span class="required">*</span></span>
                <button class="upload-resume-btn" (click)="triggerFileInput();$event.preventDefault()">
                    <div class="d-flex j-center">
                        <span class="p-t-4 p-l-4">Upload</span>
                    </div>
                </button>
                <input type="file" style="visibility: hidden" (change)="onFileSelected($event)">
            </div>
        </div>
        <div class="d-flex f-right j-space submit-btn">
            <button class="cancel-btn">Cancel</button>
            <button class="add-candidate" (click)="cancel()">Add Candidate</button>
        </div>
    </form>
</div>