<div class="main">
    <div *ngIf="CandidateData?.length > 0">
        <ng-container *ngIf="candidateDetails">
            <div class="d-flex m-10 m-l-0">
                <div class="f-w-500 user-icon">
                    <span class="f-s-30"> 
                        <img src="/assets/images/techversant/user.svg" alt="" height="40px" width="40px">
                    </span>
                </div>
                <div class="p-t-20">
                    <span class="f-w-500 p-t-18 p-l-8 f-s-20" [title]="candidateDetails?.candidateFirstName + candidateDetails?.candidateLastName">
                        {{candidateDetails?.candidateFirstName | uppercase}} {{candidateDetails?.candidateLastName | uppercase}}
                    </span>
                    <div class="d-flex">
                        <div class="text-color p-5 ">
                            <i class="fa fa-envelope p-r-10 p-l-3" aria-hidden="true"></i>
                            <span class="text-wrap" [title]="candidateDetails?.candidateEmail">{{candidateDetails?.candidateEmail}} |</span>
                        </div>
                        <div class="text-color p-5 p-l-0 d-flex">
                            <img src="assets/images/candidate-detail/mob.svg" alt="">
                            <span class="p-l-5 text-wrap" title="candidateDetails?.candidateMobileNo">{{candidateDetails?.candidateMobileNo}}</span>
                        </div>
                    </div>
                </div> 
            </div>
            <div class="d-flex p-10 top-card">
                <div class="col-1 bor">
                    <span class="f-w-500">Current Requirement</span>
                    <div class="d-flex">
                        <div class="text-color p-5 p-l-0 text-wrap req">
                            <a [href]="env_url + '/dashboard/series?requestId=' + candidateDetails?.position[0]?.reqServiceRequest?.requestId">
                                {{ candidateDetails?.position[0]?.reqServiceRequest?.requestName | titlecase }}
                            </a>
                        </div>
                    </div>   
                    <span class="f-w-500">Previous Requirements</span>
                    <div class="d-flex" >
                        <div class="text-color p-5 p-l-0 text-wrap req" *ngFor="let item of candidateDetails?.position.slice(1)">
                            <a [href]="env_url + '/dashboard/series?requestId=' + item?.reqServiceRequest?.requestId">
                                {{ item?.reqServiceRequest?.requestName | titlecase }}
                            </a>
                        </div>
                        <span *ngIf="candidateDetails?.position?.length === 1">No previous Requirement</span>
                    </div>   
                </div>
                <div class="col-1 m-b-20">
                    <div class="d-flex">
                        <div (click)="requirementSwitch('R')" title="Switch Requirement" class="c-pointer">
                            <span class="f-w-500">Switch Requirements</span>
                            <img src="/assets/images/techversant/switch.svg" class="c-pointer p-t-7 p-l-5" alt="" height="14" width="14">
                        </div>
                       
                    </div>
                    <div class="d-flex">
                        <div class="text-color p-5 p-l-0 text-wrap req">
                            <a [href]="env_url + '/dashboard/series?requestId=' + candidateDetails?.position[currentRequirementIndex]?.reqServiceRequest?.requestId">
                                {{ candidateDetails?.position[currentRequirementIndex]?.reqServiceRequest?.requestName | titlecase }}
                            </a>
                        </div>
                      <br>
                    </div>          
                    <span class="f-w-500">
                        Requirement Status :
                        {{candidateDetails?.position[currentRequirementIndex]?.reqServiceRequest?.requestStatus | titlecase}}
                    </span>  
                </div>
            </div>
            <div class="tab">
                <button class="tablinks" [ngClass]="{'active': activeTab === 'basic'}" (click)="selectedTab($event, 'basic')">Basic Info</button>
                <button class="tablinks" [ngClass]="{'active': activeTab === 'interview'}" (click)="selectedTab($event, 'interview')">Interviews</button>
                <button class="tablinks" [ngClass]="{'active': activeTab === 'attachment'}" (click)="selectedTab($event, 'attachment')">Attachment</button>
                <button class="tablinks" [ngClass]="{'active': activeTab === 'feedback'}" (click)="selectedTab($event, 'feedback')">Feedback</button>
                <button class="tablinks" [ngClass]="{'active': activeTab === 'history'}" (click)="selectedTab($event, 'history')">History</button>
            </div>
            <div class="tabcontent" [ngClass]="{'active': activeTab === 'basic'}" id="basic">
                <!-- Basic Info Content -->
                <div class="candidateDetailsContainer">
                    <div class="col-1 bor">
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/calendar.svg" class="p-r-10" alt=""> DOB
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateDoB | date: 'dd-MM-yyyy'">: {{candidateDetails?.candidateDoB | date: 'dd-MM-yyyy'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/building.svg" class="p-r-10" alt="">Previous Organization
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidatePreviousOrg">: {{candidateDetails?.candidatePreviousOrg ?
                                    candidateDetails?.candidatePreviousOrg : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500"><img class="p-r-10" src="assets/images/candidate-detail/org.svg"
                                        alt="">
                                    Experience</span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateExperience">: {{candidateDetails?.candidateExperience ? candidateDetails?.candidateExperience
                                    : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img class="p-r-10" src="assets/images/candidate-detail/money.svg" alt="">Current Salary
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateCurrentSalary">: {{candidateDetails?.candidateCurrentSalary ?
                                    candidateDetails?.candidateCurrentSalary : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img class="p-r-10" src="assets/images/candidate-detail/money.svg" alt="">Expected Salary
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateExpectedSalary">: {{candidateDetails?.candidateExpectedSalary ?
                                    candidateDetails?.candidateExpectedSalary : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Current Station
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.currentStation">: {{candidateDetails?.currentStation
                                    ? candidateDetails?.currentStation : 'Nil'}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/education.svg" class="p-r-10" alt="">Education
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateEducation">: 
                                    {{candidateDetails?.candidateEducation ? candidateDetails?.candidateEducation : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/org.svg" class="p-r-10" alt="">Previous Designation
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidatePreviousDesignation">: 
                                    {{candidateDetails?.candidatePreviousDesignation ? candidateDetails?.candidatePreviousDesignation : 'Nil'}}
                                </span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500"><i class="fa fa-home p-r-10" aria-hidden="true"></i>Address</span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateAddress">: {{candidateDetails?.candidateAddress ? candidateDetails?.candidateAddress :
                                    'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Interview Status
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateStatus[0]?.interViewStatus ? candidateDetails?.candidateStatus[0]?.interViewStatus : 'Nil'">: 
                                    {{candidateDetails?.candidateStatus[0]?.interViewStatus ? candidateDetails?.candidateStatus[0]?.interViewStatus : 'Nil'}}
                                </span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Primary Skills
                                </span>
                            </div>
                            <div class="details">
                                <span >:
                                    <ng-container *ngFor="let item of candidateDetails?.candidatePrimarySkills; let last = last">
                                        <span class="text-wrap" [title]="item?.skillType"> {{ item?.skillType }}<span *ngIf="!last">,</span> </span>
                                    </ng-container>
                                </span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Secondary
                                    Skills
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap">:
                                    <ng-container
                                        *ngFor="let item of candidateDetails?.candidateSecondarySkills; let last = last">
                                        <span class="text-wrap" [title]="item?.skillType"> {{ item?.skillType }}<span *ngIf="!last">,</span> </span>
                                    </ng-container>
                                </span>                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tabcontent" [ngClass]="{'active': activeTab === 'interview'}" id="interview">
                <!-- Interviews Content -->
                <div class="table-container m-b-0 w-100">
                    <table class="table">
                        <tr class="table-header f-w-500 p-b-10">
                            <td>Date</td>
                            <td>Interview Type</td>
                            <td>Panel</td>
                            <td>Scheduled By</td>
                            <td>Station</td>
                            <td>Status</td>        
                        </tr>
                        <!-- <div *ngIf="loader && !initialLoader" class="loader-parent">
                            <img src="assets/gif/loader.gif">
                        </div> -->
                        <ng-container *ngIf="CandidateHistory?.length > 0">
                            <!-- <ng-container *ngFor="let innerArray of CandidateHistory">{{innerArray}} -->
                                <ng-container  *ngFor="let item of CandidateHistory[0]?.interviewDetail">
                                    <tr class="candidate c-pointer">
                                        <!-- <td><input type="checkbox" [(ngModel)]="item.isSelected" (change)="getSelectedCandidateIds()"></td> -->
                                        <td>{{ item.interviewDate | date : 'dd/MM/YYY'}}</td>
                                        <td>{{item?.interviewMailType | titlecase}}</td>
                                        <td class="text-wrap" [title]="item?.interviewBy ">{{ item?.interviewBy | titlecase}}</td>
                                        <td class="text-wrap" [title]="item?.interviewScheduledBy ">{{ item?.interviewScheduledBy | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.station ">{{ item?.station | titlecase}}</td>
                                        <td class="text-wrap" [title]="item?.status ">{{ item?.status | titlecase }}</td>
                                    </tr>
                                </ng-container>
                            <!-- </ng-container> -->
                        </ng-container>
                        <!-- <div *ngIf="(candidateList[0]?.length === 0 || !candidateList[0]) && !loader && !initialLoader " class="data">
                            No Data Found
                        </div>
                        <div *ngIf="initialLoader"  class="row m-l-20 initial-loader">
                            <div *ngFor="let item of [0,1,2,3,4,5]" class="col-md-6 m-t-10 m-b-10">
                                <div class="gravatar-title">
                                    <div><ngx-skeleton-loader [theme]="{
                                        width: '900px',
                                        'border-radius': '0',
                                        height: '15px',
                                        'margin-bottom': '10px'
                                        }"></ngx-skeleton-loader>
                                    </div>
                                    <div>
                                        <ngx-skeleton-loader [theme]="{ width: '1300px', 'border-radius': '0', height: '15px' }">
                                        </ngx-skeleton-loader>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </table>
                </div>
            </div>
            <div class="tabcontent" [ngClass]="{'active': activeTab === 'attachment'}" id="attachment">
                <!-- Attachment Content -->
                <div class="c-pointer resume">
                    <span class="blue f-w-500">
                        <a [href]="viewResumeFile + resumePath ">View Resume</a>
                    </span>
                </div>
                <div class="table-container m-b-0 w-100">
                    <table class="table">
                        <tr class="table-header f-w-500 p-b-10">
                            <td>Date</td>
                            <td>Uploaded By</td>
                            <td>Station</td>
                            <td>Attachment</td>
                            <td>Type</td>
                            <td>Status</td>        
                        </tr>
                        <!-- <div *ngIf="loader && !initialLoader" class="loader-parent">
                            <img src="assets/gif/loader.gif">
                        </div> -->
                        <ng-container *ngIf="CandidateHistory?.length > 0">
                            <!-- <ng-container *ngFor="let innerArray of CandidateHistory">{{innerArray}} -->
                                <ng-container  *ngFor="let item of CandidateHistory[0]?.attachedData">
                                    <tr class="candidate c-pointer">
                                        <!-- <td><input type="checkbox" [(ngModel)]="item.isSelected" (change)="getSelectedCandidateIds()"></td> -->
                                        <td>{{item?.uploadedDate | date : 'dd/MM/YYY'}}</td>
                                        <td class="text-wrap" [title]="item?.uploadedBy | titlecase ">{{ item?.uploadedBy | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.station | titlecase ">{{ item?.station | titlecase }}</td>
                                        <td>View attachment</td>
                                        <td class="text-wrap" [title]="item?.uploadType | titlecase ">{{ item?.uploadType | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.status ">{{ item?.status }}</td>
                                    </tr>
                                </ng-container>
                            <!-- </ng-container> -->
                        </ng-container>
                        <!-- <div *ngIf="(candidateList[0]?.length === 0 || !candidateList[0]) && !loader && !initialLoader " class="data">
                            No Data Found
                        </div>
                        <div *ngIf="initialLoader"  class="row m-l-20 initial-loader">
                            <div *ngFor="let item of [0,1,2,3,4,5]" class="col-md-6 m-t-10 m-b-10">
                                <div class="gravatar-title">
                                    <div><ngx-skeleton-loader [theme]="{
                                        width: '900px',
                                        'border-radius': '0',
                                        height: '15px',
                                        'margin-bottom': '10px'
                                        }"></ngx-skeleton-loader>
                                    </div>
                                    <div>
                                        <ngx-skeleton-loader [theme]="{ width: '1300px', 'border-radius': '0', height: '15px' }">
                                        </ngx-skeleton-loader>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </table>
                </div>

            </div>
            <div class="tabcontent" [ngClass]="{'active': activeTab === 'feedback'}" id="feedback">
                <!-- Feedback Content -->
                <div class="table-container m-b-0 w-100">
                    <table class="table">
                        <tr class="table-header f-w-500 p-b-10">
                            <td>Date</td>
                            <td>Feedback By</td>
                            <td>Feedback Type</td>
                            <td>Station</td>
                            <td>Status</td>        
                        </tr>
                        <!-- <div *ngIf="loader && !initialLoader" class="loader-parent">
                            <img src="assets/gif/loader.gif">
                        </div> -->
                        <ng-container *ngIf="CandidateHistory?.length > 0">
                            <!-- <ng-container *ngFor="let innerArray of CandidateHistory">{{innerArray}} -->
                                <ng-container  *ngFor="let item of CandidateHistory[0]?.candidatesDetail">
                                    <tr class="candidate c-pointer">
                                        <!-- <td><input type="checkbox" [(ngModel)]="item.isSelected" (change)="getSelectedCandidateIds()"></td> -->
                                        <td>{{ item.interviewDate | date : 'dd/MM/YYY'}}</td>
                                        <td class="text-wrap" [title]="item?.feedbackBy | titlecase ">{{ item?.feedbackBy | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.feedbackType | titlecase ">{{ item?.feedbackType | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.station ">{{ item?.station }}</td>
                                        <td class="text-wrap" [title]="item?.status ">{{ item?.status }}</td>
                                    </tr>
                                </ng-container>
                            <!-- </ng-container> -->
                        </ng-container>
                        <!-- <div *ngIf="(candidateList[0]?.length === 0 || !candidateList[0]) && !loader && !initialLoader " class="data">
                            No Data Found
                        </div>
                        <div *ngIf="initialLoader"  class="row m-l-20 initial-loader">
                            <div *ngFor="let item of [0,1,2,3,4,5]" class="col-md-6 m-t-10 m-b-10">
                                <div class="gravatar-title">
                                    <div><ngx-skeleton-loader [theme]="{
                                        width: '900px',
                                        'border-radius': '0',
                                        height: '15px',
                                        'margin-bottom': '10px'
                                        }"></ngx-skeleton-loader>
                                    </div>
                                    <div>
                                        <ngx-skeleton-loader [theme]="{ width: '1300px', 'border-radius': '0', height: '15px' }">
                                        </ngx-skeleton-loader>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </table>
                </div>
                <!-- <div class="Feedback">
                    <div class="feedback-head">
                        <span class="f-w-500 f-s-16">Feedback Section </span>
                    </div>
                    <div *ngIf="candidateFeedback?.length > 0">
                        <ng-container *ngFor="let item of candidateFeedback; let last = last">
                            <div class="d-flex">
                                <div class="col-1">
                                    <div class="p-10">
                                        <span class="f-w-500 user-icon"> 
                                            {{ item?.['reqServiceSequence.reqUser.userName']?.charAt(0) ? (item?.['reqServiceSequence.reqUser.userName']?.charAt(0) |uppercase) : 'U' }}
                                        </span>
                                        <span class="text-color p-r-10 p-l-8 f-w-500 f-s-15">{{item?.['reqServiceSequence.reqUser.userName'] ? item?.['reqServiceSequence.reqUser.userName'] : 'User Name'}}</span>
                                        <span class="p-r-10">{{item?.['reqServiceSequence.reqStation.stationName'] ? item?.['reqServiceSequence.reqStation.stationName'] : 'Station Name'}} - </span>
                                        <span class="p-r-10 date-color"> {{item?.['reqServiceSequence.serviceDate'] | date:'dd/MM/yyyy'}}</span>
                                    </div>
                                    <div class="p-10">
                                        <span class="p-l-20 m-l-20">{{item?.commentComment}}</span>
                                    </div>
                                </div>
                                <div class="d-flex j-end">
                                    <img src="assets/images/candidate-detail/edit.svg" class="icon" alt="">
                                    <img src="assets/images/candidate-detail/delete.svg" class="icon" alt="">
                                </div>
                            </div>
                            <div *ngIf="!last" class="bor-2"></div>
                        </ng-container>
                    </div>
                    <div class="p-10" *ngIf="candidateFeedback?.length === 0">No other Feedback Available</div>
                    <div class="m-b-20">
                        <textarea class="text-area" id="feedback" cols="30" rows="10" placeholder="Add New Feedback"></textarea>
                        <button class="btn-cancel c-pointer">Cancel</button>
                        <button class="btn-submit c-pointer">Submit</button>
                    </div>
                </div>                 -->
            </div>
            <div class="tabcontent" [ngClass]="{'active': activeTab === 'history'}" id="history">
                <!-- History Content -->
                <div class="table-container m-b-0 w-100">
                    <table class="table">
                        <tr class="table-header f-w-500 p-b-10">
                            <td>Date</td>
                            <td>History Type</td>
                            <td>History By</td>
                            <td>Comment</td>
                            <td>Station</td>
                            <td>Status</td>        
                        </tr>
                        <!-- <div *ngIf="loader && !initialLoader" class="loader-parent">
                            <img src="assets/gif/loader.gif">
                        </div> -->
                        <ng-container *ngIf="CandidateHistory?.length > 0">
                            <!-- <ng-container *ngFor="let innerArray of CandidateHistory">{{innerArray}} -->
                                <ng-container  *ngFor="let item of CandidateHistory[0]?.historyDetail">
                                    <tr class="candidate c-pointer">
                                        <!-- <td><input type="checkbox" [(ngModel)]="item.isSelected" (change)="getSelectedCandidateIds()"></td> -->
                                        <td>{{ item.interviewDate | date : 'dd/MM/YYY'}}</td>
                                        <td class="text-wrap" [title]="item?.historyType ">{{item?.historyType }}</td>
                                        <td class="text-wrap" [title]="item?.historyBy | titlecase ">{{ item?.historyBy | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.feedbackMessage | titlecase ">{{ item?.feedbackMessage | titlecase }}</td>
                                        <td class="text-wrap" [title]="item?.station ">{{ item?.station }}</td>
                                        <td class="text-wrap" [title]="item?.status ">{{ item?.status }}</td>
                                    </tr>
                                </ng-container>
                            <!-- </ng-container> -->
                        </ng-container>
                        <!-- <div *ngIf="(candidateList[0]?.length === 0 || !candidateList[0]) && !loader && !initialLoader " class="data">
                            No Data Found
                        </div>
                        <div *ngIf="initialLoader"  class="row m-l-20 initial-loader">
                            <div *ngFor="let item of [0,1,2,3,4,5]" class="col-md-6 m-t-10 m-b-10">
                                <div class="gravatar-title">
                                    <div><ngx-skeleton-loader [theme]="{
                                        width: '900px',
                                        'border-radius': '0',
                                        height: '15px',
                                        'margin-bottom': '10px'
                                        }"></ngx-skeleton-loader>
                                    </div>
                                    <div>
                                        <ngx-skeleton-loader [theme]="{ width: '1300px', 'border-radius': '0', height: '15px' }">
                                        </ngx-skeleton-loader>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </table>
                </div>
            </div>
        </ng-container>
    </div>
</div>
