<div class="main">
    <div *ngIf="CandidateData?.length > 0">
        <ng-container *ngIf="candidateDetails">
            <div class="d-flex p-10">
                <div class="p-r-20 bor">
                    <div class="p-10">
                        <span class="f-w-500 f-s-16 text-wrap" [title]="candidateDetails?.candidateFirstName + candidateDetails?.candidateLastName">
                            {{candidateDetails?.candidateFirstName}} {{candidateDetails?.candidateLastName}}
                        </span>
                    </div>
                    <div class="text-color p-5">
                        <i class="fa fa-envelope p-r-10" aria-hidden="true"></i>
                        <span class="text-wrap" [title]="candidateDetails?.candidateEmail">{{candidateDetails?.candidateEmail}}</span>
                    </div>
                    <div class="text-color p-5">
                        <img src="assets/images/candidate-detail/mob.svg" alt="">
                        <span class="p-l-10 p-b-10 text-wrap" title="candidateDetails?.candidateMobileNo">{{candidateDetails?.candidateMobileNo}}</span>
                    </div>
                </div>
                <div class="col-1">
                    <span class="f-w-500">Requirement</span>
                    <span class="text-color p-5 p-l-0 text-wrap">
                        <a [href]="env_url + '/dashboard/series?requestId=' + candidateDetails?.position[currentRequirementIndex]?.reqServiceRequest?.requestId">
                            {{ candidateDetails?.position[currentRequirementIndex]?.reqServiceRequest?.requestName | titlecase }}
                        </a>
                    </span>
                    <span (click)="requirementSwitch('R')"><button class="c-pointer"> Change requirement</button> &nbsp;</span>
                    <!-- <span (click)="requirementSwitch('L')">&nbsp;<b>L</b></span> -->
                </div>
            </div>
            <!-- <div class="tab">
                <button class="tablinks" onclick="openCity(event, 'London')">Basic Deatils</button>
                <button class="tablinks" onclick="openCity(event, 'Paris')">Interviews</button>
                <button class="tablinks" onclick="openCity(event, 'Tokyo')">Attachment</button>
                <button class="tablinks" onclick="openCity(event, 'Tokyo')">Feedback</button>
                <button class="tablinks" onclick="openCity(event, 'Tokyo')">History</button
              </div> -->
            <div class="m-b-20 d-flex">
                <div class="basic-info">
                    <div class="basic-head">
                        <span class="f-w-500 f-s-16">Basic Info & Professional Info </span>
                    <span>Click to view resume :
                        <i class="fa fa-file-text-o" aria-hidden="true" title="View resume"
                            (click)="viewResume(candidateDetails?.candidateResume)"></i>
                    </span>
                </div>
                <div class="candidateDetailsContainer">
                    <div class="col-1 bor">
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/calendar.svg" class="p-r-10" alt=""> DOB
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateDoB | date: 'dd-MM-yyyy'">: {{candidateDetails?.candidateDoB | date: 'dd-MM-yyyy'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/building.svg" class="p-r-10"
                                        alt="">Previous Organization
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidatePreviousOrg">: {{candidateDetails?.candidatePreviousOrg ?
                                    candidateDetails?.candidatePreviousOrg : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500"><img class="p-r-10" src="assets/images/candidate-detail/org.svg"
                                        alt="">
                                    Experience</span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateExperience">: {{candidateDetails?.candidateExperience ? candidateDetails?.candidateExperience
                                    : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img class="p-r-10" src="assets/images/candidate-detail/money.svg" alt="">Current
                                    Salary
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateCurrentSalary">: {{candidateDetails?.candidateCurrentSalary ?
                                    candidateDetails?.candidateCurrentSalary : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img class="p-r-10" src="assets/images/candidate-detail/money.svg" alt="">Expected
                                    Salary
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateExpectedSalary">: {{candidateDetails?.candidateExpectedSalary ?
                                    candidateDetails?.candidateExpectedSalary : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Current
                                    Station
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.currentStation">: {{candidateDetails?.currentStation
                                    ? candidateDetails?.currentStation : 'Nil'}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/education.svg" class="p-r-10" alt="">Education
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateEducation">: 
                                    {{candidateDetails?.candidateEducation ? candidateDetails?.candidateEducation : 'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/org.svg" class="p-r-10" alt="">Previous Designation
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidatePreviousDesignation">: 
                                    {{candidateDetails?.candidatePreviousDesignation ? candidateDetails?.candidatePreviousDesignation : 'Nil'}}
                                </span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500"><i class="fa fa-home p-r-10" aria-hidden="true"></i>Address</span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateAddress">: {{candidateDetails?.candidateAddress ? candidateDetails?.candidateAddress :
                                    'Nil'}}</span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Interview Status
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap" [title]="candidateDetails?.candidateStatus[0]?.interViewStatus ? candidateDetails?.candidateStatus[0]?.interViewStatus : 'Nil'">: 
                                    {{candidateDetails?.candidateStatus[0]?.interViewStatus ? candidateDetails?.candidateStatus[0]?.interViewStatus : 'Nil'}}
                                </span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Primary Skills
                                </span>
                            </div>
                            <div class="details">
                                <span >:
                                    <ng-container *ngFor="let item of candidateDetails?.candidatePrimarySkills; let last = last">
                                        <span class="text-wrap" [title]="item?.skillType"> {{ item?.skillType }}<span *ngIf="!last">,</span> </span>
                                    </ng-container>
                                </span>
                            </div>
                        </div>
                        <div class="details">
                            <div class="details">
                                <span class="f-w-500">
                                    <img src="assets/images/candidate-detail/user.svg" class="p-r-10" alt="">Secondary
                                    Skills
                                </span>
                            </div>
                            <div class="details">
                                <span class="text-wrap">:
                                    <ng-container
                                        *ngFor="let item of candidateDetails?.candidateSecondarySkills; let last = last">
                                        <span class="text-wrap" [title]="item?.skillType"> {{ item?.skillType }}<span *ngIf="!last">,</span> </span>
                                    </ng-container>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="Feedback">
                    <div class="feedback-head">
                        <span class="f-w-500 f-s-16">Feedback Section </span>
                    </div>
                    <div *ngIf="candidateFeedback?.length > 0">
                        <ng-container *ngFor="let item of candidateFeedback; let last = last">
                            <div class="d-flex">
                                <div class="col-1">
                                    <div class="p-10">
                                        <span class="f-w-500 user-icon"> 
                                            {{ item?.['reqServiceSequence.reqUser.userName']?.charAt(0) ? (item?.['reqServiceSequence.reqUser.userName']?.charAt(0) |uppercase) : 'U' }}
                                        </span>
                                        <span class="text-color p-r-10 p-l-8 f-w-500 f-s-15">{{item?.['reqServiceSequence.reqUser.userName'] ? item?.['reqServiceSequence.reqUser.userName'] : 'User Name'}}</span>
                                        <span class="p-r-10">{{item?.['reqServiceSequence.reqStation.stationName'] ? item?.['reqServiceSequence.reqStation.stationName'] : 'Station Name'}} - </span>
                                        <span class="p-r-10 date-color"> {{item?.['reqServiceSequence.serviceDate'] | date:'dd/MM/yyyy'}}</span>
                                    </div>
                                    <div class="p-10">
                                        <span class="p-l-20 m-l-20">{{item?.commentComment}}</span>
                                    </div>
                                </div>
                                <!-- <div class="d-flex j-end">
                                    <img src="assets/images/candidate-detail/edit.svg" class="icon" alt="">
                                    <img src="assets/images/candidate-detail/delete.svg" class="icon" alt="">
                                </div> -->
                            </div>
                            <div *ngIf="!last" class="bor-2"></div>
                        </ng-container>
                    </div>
                    <div class="p-10" *ngIf="candidateFeedback?.length === 0">No other Feedback Available</div>
                    <!-- <div class="m-b-20">
                        <textarea class="text-area" id="feedback" cols="30" rows="10" placeholder="Add New Feedback"></textarea>
                        <button class="btn-cancel c-pointer">Cancel</button>
                        <button class="btn-submit c-pointer">Submit</button>
                    </div> -->
                </div>
            </div>

        </div>
        </ng-container>
    </div>
    <div *ngIf="!CandidateData || CandidateData?.length === 0" class="no-data">
        No data available for the searched candidate
    </div>
</div>